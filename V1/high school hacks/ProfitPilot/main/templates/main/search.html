{% extends 'main/base.html' %}
{% load static %} 
<!--search.html-->
{% block title %}
{{ stock_data.symbol|upper }}
{% endblock %}
{% block head %}
{{ stock_data.symbol|upper }}
{% endblock %}
{% block content %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    {% if stock_data.price %}
        <h1>Current Price : {{ stock_data.price }} $</h1>
    {% else %}
        <h1>Current Price : N/A</h1>
    {% endif %}
   <!-- TradingView Widget BEGIN -->

<div class="tradingview-widget-container" style="width: 150%; justify-content: center; margin-right: 200px;">
    <div id="tradingview_b14ba"></div>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script type="text/javascript">
      var selectedSymbol = "{{ stock_data.symbol }}"; 
        //"symbol": selectedSymbol,
      new TradingView.widget(
      {
        "autosize": true,
        "symbol": "{{ stock_data.symbol }}",
        "interval": "D",
         "timezone": "Etc/UTC",
        "theme": "light",
         "style": "1",
         "locale": "en",
         "toolbar_bg": "#f1f3f6",
         "enable_publishing": false,
         "hide_side_toolbar": false,
         "allow_symbol_change": true,
         "save_image": false,
         "details": true,
        "hotlist": true,
        "calendar": true,
        "show_popup_button": true,
        "popup_width": "1500",
        "popup_height": "500",
        "container_id": "tradingview_d5d59"
      }) ;
    </script>
  </div>
  <!-- TradingView Widget END -->
  <br>
  <button id="homeButton">Home</button>
  <script>
      var homeButton = document.getElementById("homeButton");
      homeButton.addEventListener("click", function(){
       window.location.href = "http://127.0.0.1:8000/";
      });
  </script>
    <style type="text/css">
    .tradingview-widget-container {
        width: 100%;
    }
    
    </style>
    
{% endblock %}

